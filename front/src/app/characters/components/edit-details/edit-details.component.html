<div class="w-full pt-[20px] pb-[15px] flex flex-row items-center justify-between relative">
    <a class="flex flex-row items-center text-16 hover:underline self-start flex-shrink-0"
       routerLink="..">
        <app-long-arrow-left class="me-[10px] fill-white"/>
        Retour
    </a>
    <h1 class="text-20 text-center w-full flex-shrink">Modifier</h1>
    <p class="flex-shrink-0 px-[6px] py-[3px] bg-light-dark rounded-[6px] ms-[10px]"
       [ngClass]="(character | characterToReamingXp) >= 0 ? 'text-blue' : 'text-orange'">{{(character | characterToReamingXp) >= 0 ? '↑' : '↓'}} {{character | characterToReamingXp}}
        EXP</p>
</div>
<form class="w-full max-w-md" (ngSubmit)="submit()">
    <div class="flex w-full mt-[50px] h-[52px]">
        <div class="flex-shrink flex-grow labeled-select mr-[12px]">
            <label>Village</label>
            <select disabled name="village" [(ngModel)]="village" class="!text-yellow pl-[83px]">
                <option *ngFor="let village of dataService.villages | async"
                        [ngValue]="village">{{village.name | titlecase}}</option>
            </select>
        </div>
        <div class="flex flex-shrink-0 items-center gray-box w-[52px]">
            <img class="mx-auto" [src]="currentVillageLogo()" alt="Logo du village">
        </div>
    </div>
    <app-spacer class="my-[18px] bg-lighter-dark"></app-spacer>
    <div class="labeled-input">
        <label>Prénom</label>
        <input type="text" name="firstName" [(ngModel)]="firstName" class="!text-yellow pl-[90px]"
               placeholder="Ex: Mitsuo">
    </div>
    <div class="flex w-full mt-[18px] h-[52px]">
        <div class="flex-shrink flex-grow labeled-select mr-[12px]">
            <label>Clan</label>
            <select name="clan" [(ngModel)]="clan" class="pl-[69px]" [class.!text-yellow]="clan">
                <option selected disabled class="text-light-gray" [ngValue]="undefined">Choisir parmi la liste</option>
                <option class="text-yellow" *ngFor="let clan of ($clans | async)"
                        [ngValue]="clan">{{clan.name | titlecase}}</option>
            </select>
        </div>
        <div class="flex flex-shrink-0 items-center gray-box w-[52px]" [class.!bg-black]="!clan">
            <img class="mx-auto x-[25px] h-[25px]" [src]="currentClanLogo()" alt="">
        </div>
    </div>
    <div class="flex w-full flex-row items-center rounded-xl border h-[55px] p-[16px] border-lighter-dark mt-[18px]"
         (click)="isRoadElement.checked = !isRoadElement.checked; isRoad = !isRoad">
        <input #isRoadElement type="checkbox" id="isRoad" name="isRoad" [(ngModel)]="isRoad"
               class="pointer-events-none appearance-none rounded-md border w-[21px] h-[21px] bg-light-dark border-lighter-dark checked:bg-yellow">
        <label for="isRoad" class="pointer-events-none ms-[15px]">Je souhaite une Voie, pas une Lignée</label>
    </div>
    <div *ngIf="isRoad" class="labeled-select mt-[18px]">
        <label>Voie</label>
        <select name="road" [(ngModel)]="road" class="pl-[69px]" [class.!text-yellow]="road">
            <option selected disabled class="text-light-gray" [ngValue]="undefined">Choisir parmi la liste</option>
            <option class="text-yellow" *ngFor="let road of dataService.roads | async"
                    [ngValue]="road">{{road.name + " - " + road.qualification}}</option>
        </select>
    </div>
    <div class="labeled-input mt-[18px]">
        <label>Points d’expérience</label>
        <input type="number" name="xp" required [(ngModel)]="xp" class="!text-yellow pl-[166px]">
    </div>
    <div class="labeled-select mt-[18px]">
        <label>Rang</label>
        <select name="rank" [(ngModel)]="rank" class="pl-[69px]" [class.!text-yellow]="rank">
            <option selected disabled class="text-light-gray" [ngValue]="undefined">Choisir parmi la liste</option>
            <option class="text-yellow" *ngFor="let rank of dataService.ranks | async"
                    [ngValue]="rank">{{rank.name}}</option>
        </select>
    </div>
    <!--TODO-->
    <button [disabled]="!hasChanges()" type="submit" class="bg-purple rounded-[10px] w-full py-[18px] mt-[50px] enabled:hover:bg-opacity-95
                                                            disabled:bg-transparent disabled:border disabled:text-dark-gray disabled:border-lighter-dark">
        Sauvegarder
    </button>
</form>